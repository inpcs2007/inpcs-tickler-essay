# CloudSaaS微服务架构源代码的架构解析

### 一、整理目录结构

> **1. cloud-auth （身份认证鉴权中心）**

| **子服务** | **备注** |
| :---: | :---: |
| cloud-auth-client | 鉴权客户端 |
| cloud-auth-common | 鉴权公共库 |
| cloud-auth-server | 鉴权服务端 SpringBoot |

> **2. cloud-center** （服务注册中心 SpringBoot）
>
> **3. cloud-common** （公共库）
>
> **4. cloud-control** （统一监控运维中心 SpringBoot）

| **子服务** | **备注** |
| :---: | :---: |
| cloud-monitor | 服务监控 SpringBoot |
| cloud-trace | 鉴权公共库 |
| cloud-auth-server | 鉴权服务端 SpringBoot |

> **5. cloud-gate** （统一网关中心）

| **子服务** | **备注** |
| :---: | :---: |
| cloud-gate-ratelimit | 微服务限流 SpringBoot |
| cloud-gateway-v2 | 微服务网关 SpringBoot |
| cloud-gate-zuul | 微服务网关 SpringBoot |

> **6. cloud-modules** （微服务后端模块管理）

| **子服务** | **备注** |
| :---: | :---: |
| cloud-admin | 后台管理端服务 SpringBoot |
| cloud-generator | 服务代码生成 SpringBoot |
| cloud-interface | 服务接口 |
| cloud-tool | 服务工具库 |

> **7. cloud-sidecar** （异构语言整合（非java））

| **子服务** | **备注** |
| :---: | :---: |
| cloud-sidecar-client-demo | 异构语言整合客户端 |
| cloud-sidecar-server | 异构语言整合SpringBoot |

### 二、模块详细讲解

**1. cloud-auth （身份认证鉴权中心）**

身份认证鉴权中心包括“鉴权客户端”、“鉴权公共库”、“鉴权服务端”三个部分，现在详细讲解下每个部分。

```
├── pom.xml
└── src
    └── main
        └── java
            └── cn
                └── inpcs
                    └── saas
                        └── security
                            └── auth
                                └── client
                                    ├── annotation
                                    │   ├── IgnoreClientToken.java----------忽略服务鉴权
                                    │   └── IgnoreUserToken.java------------忽略用户鉴权
                                    ├── config
                                    │   ├── FeignOkHttpConfig.java
                                    │   ├── ServiceAuthConfig.java
                                    │   └── UserAuthConfig.java
                                    ├── configuration
                                    │   └── AutoConfiguration.java
                                    ├── EnableAceAuthClient.java
                                    ├── exception
                                    │   ├── JwtIllegalArgumentException.java
                                    │   ├── JwtSignatureException.java
                                    │   └── JwtTokenExpiredException.java
                                    ├── feign
                                    │   └── ServiceAuthFeign.java
                                    ├── interceptor
                                    │   ├── OkHttpTokenInterceptor.java
                                    │   ├── ServiceAuthRestInterceptor.java
                                    │   └── UserAuthRestInterceptor.java
                                    ├── jwt
                                    │   ├── ServiceAuthUtil.java
                                    │   └── UserAuthUtil.java
                                    └── runner
                                        └── AuthClientRunner.java
```



